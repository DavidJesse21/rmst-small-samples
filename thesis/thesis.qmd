---
#keep-tex: true
format:
  pdf:
    template-partials:
      - tex/biblio.tex
    pdf-engine: pdflatex
    toc: false
    toc-depth: 3
    number-sections: true
    toccolor: black
    citecolor: blue
    linkcolor: black
    fig-pos: "htbp"
    documentclass: scrartcl
    classoption: [headings=normal, numbers=noenddot]
    fontsize: 12pt
    geometry:
      - left=2.5cm
      - right=2.5cm
      - top=2.5cm
      - bottom=2cm
      - bindingoffset=5mm
    cite-method: biblatex
    biblatexoptions:
      - backend=biber
      - maxbibnames=999
      - maxcitenames=2
      - uniquename=false
      - uniquelist=false
      - dashed=false
      - isbn=false
      - doi=false
      - eprint=false
      - url=false
      - date=year
    biblio-style: authoryear-icomp
    include-in-header: ["tex/preamble.tex", "tex/operators.tex"]
    include-before-body: "tex/before_body.tex"
bibliography: ["bib/references.bib", "bib/packages.bib"]
execute: 
  echo: false
  warning: false
  output: true
crossref: 
  eq-prefix: "Eq."
suppress-bibliography: true
---

```{r setup}
box::use(
  here[here]
)

setwd(here())
options(box.path = here("R"))

# Include child documents
chapter = function(name) {
  here("thesis", "chapters", paste0(name, ".qmd"))
}

# Load modules and functions
box::use(
  data.table[...],
  ggplot2[...],
  patchwork[wrap_plots, plot_layout],
  kableExtra[...]
)

box::use(
  plotting/surv[plot_surv_models],
  plotting/cens[plot_cens_models],
  simfuns2/analyze[calc_rejection_rates, calc_ci_metrics, setj_samples_alloc, setj_percent],
  simfuns2/get_funs[get_scenario_table]
)

# Set (default) ggplot2 theme for entire document
theme_set(theme_bw(base_size = 14))

# Load simulation results
dtr = readRDS(here("simulation", "results", "2024-02-08_results1.rds"))
setDT(dtr)
dts = get_scenario_table()
```


\newpage
\pagenumbering{arabic}

```{r child=chapter("01-introduction")}

```

```{r child=chapter("02-survnph")}

```

```{r child=chapter("03-rmst")}

```

```{r child=chapter("04-inference")}

```

```{r child=chapter("05-simulation")}

```

```{r child=chapter("06-examples")}

```

```{r child=chapter("07-conclusion")}

```

\newpage

# References {-}

\begingroup
<!-- Increase space between bibliography entries -->
\setlength\bibitemsep{0.5\baselineskip}
<!-- Bibliography -->
\printbibliography[heading=none]
\endgroup
\def\printbibliography{}
